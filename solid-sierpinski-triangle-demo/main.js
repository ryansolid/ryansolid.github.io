!function(){"use strict";var n=function(n,e){var t=new l(n,e);return function(){return t.current()}};Object.defineProperty(n,"default",{value:n}),n.root=function(n){var e=p,t=0===n.length?g:new l(null,null),o=void 0,r=0===n.length?null:function(){null!==d?f.disposes.add(t):k(t)};return p=t,null===d?o=function(n,e,t){try{return null===e?n():n(e)}finally{p=t}}(n,r,e):(o=null===r?n():n(r),p=e),o},n.on=function(e,t,o,l){var r;return Array.isArray(e)&&(r=e,e=function(){for(var n=0;n<r.length;n++)r[n]()}),l=!!l,n(u,o);function u(n){var o=h;return e(),l?l=!1:(h=null,n=t(n),h=o),n}},n.effect=function(n,e){new l(n,e)},n.data=function(n){var e=new o(n);return function(n){return 0===arguments.length?e.current():e.next(n)}},n.value=function(e,t){var o=n.data(e),l=-1;return function(n){if(0===arguments.length)return o();if(!(t?t(e,n):e===n)){var r=f.time;if(l===r)throw new Error("conflicting values: "+n+" is not the same as "+e);l=r,e=n,o(n)}return n}},n.freeze=function(n){var e=void 0;if(null!==d)e=n();else{(d=f).changes.reset();try{e=n(),m()}finally{d=null}}return e},n.sample=function(n){var e,t=h;return null!==t?(h=null,e=n(),h=t):e=n(),e},n.cleanup=function(n){null!==p?null===p.cleanups?p.cleanups=[n]:p.cleanups.push(n):console.warn("cleanups created without a root or parent will never be run")},n.makeDataNode=function(n){return new o(n)},n.makeComputationNode=function(n,e){return new l(n,e)},n.isFrozen=function(){return null!==d},n.isListening=function(){return null!==h};var e=function(){return function(){this.time=0,this.changes=new u,this.updates=new u,this.disposes=new u}}(),t={time:function(){return f.time}},o=function(){function n(n){this.value=n,this.pending=i,this.log=null}return n.prototype.current=function(){return null!==h&&function(n,e){null===n.log&&(n.log=new r);v(n.log,e)}(this,h),this.value},n.prototype.next=function(n){if(null!==d)if(this.pending!==i){if(n!==this.pending)throw new Error("conflicting changes: "+n+" !== "+this.pending)}else this.pending=n,f.changes.add(this);else null!==this.log?(this.pending=n,f.changes.add(this),m()):this.value=n;return n},n.prototype.clock=function(){return t},n}(),l=function(){function n(n,e){if(this.state=s,this.source1=null,this.source1slot=0,this.sources=null,this.sourceslots=null,this.log=null,this.owned=null,this.cleanups=null,this.fn=n,this.value=e,this.age=f.time,null!==n){var t=p,o=h;null===t&&console.warn("computations created without a root or parent will never be disposed"),p=h=this,null===d?function(n){d=f,f.changes.reset(),f.updates.reset();try{n.value=n.fn(n.value),(f.changes.count>0||f.updates.count>0)&&(f.time++,y(f))}finally{d=p=h=null}}(this):this.value=this.fn(this.value),t&&t!==g&&(null===t.owned?t.owned=[this]:t.owned.push(this)),p=t,h=o}}return n.prototype.current=function(){if(null!==h){if(this.age===f.time){if(this.state===a)throw new Error("circular dependency");C(this)}!function(n,e){null===n.log&&(n.log=new r);v(n.log,e)}(this,h)}return this.value},n.prototype.clock=function(){return t},n}(),r=function(){return function(){this.node1=null,this.node1slot=0,this.nodes=null,this.nodeslots=null}}(),u=function(){function n(){this.items=[],this.count=0}return n.prototype.reset=function(){this.count=0},n.prototype.add=function(n){this.items[this.count++]=n},n.prototype.run=function(n){for(var e=this.items,t=0;t<this.count;t++)n(e[t]),e[t]=null;this.count=0},n}(),i={},s=0,c=1,a=2,f=new e,d=null,h=null,p=null,g=new l(null,null);function v(n,e){var t,o=null===e.source1?-1:null===e.sources?0:e.sources.length;null===n.node1?(n.node1=e,n.node1slot=o,t=-1):null===n.nodes?(n.nodes=[e],n.nodeslots=[o],t=0):(t=n.nodes.length,n.nodes.push(e),n.nodeslots.push(o)),null===e.source1?(e.source1=n,e.source1slot=t):null===e.sources?(e.sources=[n],e.sourceslots=[t]):(e.sources.push(n),e.sourceslots.push(t))}function m(){var n=p;f.updates.reset(),f.time++;try{y(f)}finally{d=h=null,p=n}}function y(n){var e=d,t=0;for(d=n,n.disposes.reset();0!==n.changes.count||0!==n.updates.count||0!==n.disposes.count;)if(t>0&&n.time++,n.changes.run(w),n.updates.run(C),n.disposes.run(k),t++>1e5)throw new Error("Runaway clock detected");d=e}function w(n){n.value=n.pending,n.pending=i,n.log&&x(n.log)}function x(n){var e=n.node1,t=n.nodes;if(null!==e&&b(e),null!==t)for(var o=0,l=t.length;o<l;o++)b(t[o])}function b(n){var e=f.time;n.age<e&&(n.age=e,n.state=c,f.updates.add(n),null!==n.owned&&function n(e){for(var t=0;t<e.length;t++){var o=e[t];o.age=f.time,o.state=s,null!==o.owned&&n(o.owned)}}(n.owned),null!==n.log&&x(n.log))}function C(n){if(n.state===c){var e=p,t=h;p=h=n,n.state=a,N(n,!1),n.value=n.fn(n.value),n.state=s,p=e,h=t}}function N(n,e){var t,o,l=n.source1,r=n.sources,u=n.sourceslots,i=n.cleanups,s=n.owned;if(null!==i){for(t=0;t<i.length;t++)i[t](e);n.cleanups=null}if(null!==s){for(t=0;t<s.length;t++)k(s[t]);n.owned=null}if(null!==l&&(A(l,n.source1slot),n.source1=null),null!==r)for(t=0,o=r.length;t<o;t++)A(r.pop(),u.pop())}function A(n,e){var t,o,l=n.nodes,r=n.nodeslots;-1===e?n.node1=null:(t=l.pop(),o=r.pop(),e!==l.length&&(l[e]=t,r[e]=o,-1===o?t.source1slot=e:t.sourceslots[o]=e))}function k(n){n.fn=null,n.log=null,N(n,!0)}const T=n,E="__rGroup",S="previousSibling";let I=0;function D(n,e,t,o){if(Array.isArray(e)){if(!e.length)return;let l=(e=function n(e,t){for(let o=0,l=t.length;o<l;o++){let l=t[o];l instanceof Node?11===l.nodeType?n(e,l.childNodes):e.push(l):null==l||!0===l||!1===l||(Array.isArray(l)?n(e,l):"string"==typeof l?e.push(document.createTextNode(l)):e.push(document.createTextNode(l.toString())))}return e}([],e))[0];1!==e.length&&(l[E]=e[e.length-1][E]=o);for(let o=0;o<e.length;o++)t?n.insertBefore(e[o],t):n.appendChild(e[o]);return l}let l,r=typeof e;return"string"===r||"number"===r?e=document.createTextNode(e):11===e.nodeType&&(l=e.firstChild)&&l!==e.lastChild&&(l[E]=e.lastChild[E]=o),t?n.insertBefore(e,t):n.appendChild(e),l||e}function F(n,e,t,o){return t?(Array.isArray(e)?o=e[0]:null!=e&&""!=e&&void 0===o&&(o=function(n,e,t){const o=n[E];if(o)for(n=n[e];n&&n[E]!==o;)n=n[e];return t?n:n[e]}(t.previousSibling,S,!0)),o&&function(n,e,t){let o;for(;e!==t;)o=e.nextSibling,n.removeChild(e),e=o}(n,o,t),""):n.textContent=""}function H(n,e,t,o){if(e===t)return t;n=o&&o.parentNode||n;const l=typeof e;if("string"===l||"number"===l)if("number"===l&&(e=e.toString()),o){if(""===e)F(n,t,o);else if(""!==t&&"string"==typeof t)o.previousSibling.data=e;else{const l=document.createTextNode(e);""!==t&&null!=t?n.replaceChild(l,o.previousSibling):n.insertBefore(l,o)}t=e}else t=""!==t&&"string"==typeof t?n.firstChild.data=e:n.textContent=e;else if(null==e||"boolean"===l)t=F(n,t,o);else if("function"===l)T(function(){t=H(n,e(),t,o)});else{if(!(e instanceof Node||Array.isArray(e)))throw new Error("content must be Node, stringable, or array of same");F(n,t,o),D(n,e,o,++I),t=e}return t}function L(n,e,t,o){if("function"!=typeof e)return H(n,e,t,o);T((l=t)=>H(n,e(),l,o))}function M(e,t){const o=n.makeDataNode(e);let l;if(t){let n=-1;l=(l=>{if(!t(e,l)){const t=o.clock().time();if(t===n)throw new Error(`Conflicting value update: ${l} is not the same as ${e}`);n=t,e=l,o.next(l)}})}else l=o.next.bind(o);return[o.current.bind(o),l]}const{root:j,cleanup:q,sample:z,freeze:B}=n,O=document.createElement("template"),R=document.createElement("template"),$=document.createElement("template");O.innerHTML="<div class='container'></div>",R.innerHTML="\x3c!--3--\x3e\x3c!--4--\x3e\x3c!--5--\x3e",$.innerHTML="<div class='dot'></div>";const _=e=>{let t,o;const[l,r]=M(e()),u={current:null},i=()=>{cancelIdleCallback(t),clearTimeout(o),o=null,r(u.current)};return function(e,t,o){t?n.on(t,e,void 0,o):n.makeComputationNode(e)}(()=>{u.current=e(),cancelIdleCallback(t),o||(o=setTimeout(i,100*~~(4*Math.random()+1))),t=requestIdleCallback(i)}),l},G=()=>{const[e,t]=M(0),[o,l]=M(0),r=function(e,t){return n(e,t)}(()=>{const n=e()/1e3%10;return 1+(n>5?10-n:n)/10}),u=Date.now(),i=setInterval(()=>l(o()%10+1),1e3);let s;const c=()=>{t(Date.now()-u),s=requestAnimationFrame(c)};return s=requestAnimationFrame(c),q(()=>{clearInterval(i),cancelAnimationFrame(s)}),function(){const n=O.content.firstChild.cloneNode(!0);return T(()=>Object.assign(n.style,{transform:"scaleX("+r()/2.1+") scaleY(0.7) translateZ(0.1px)"})),L(n,P({x:0,y:0,s:1e3,seconds:o})),n}()},P=({x:n,y:e,s:t,seconds:o})=>t<=25?X({x:n-12.5,y:e-12.5,s:25,text:o}):(125===(t/=2)&&(o=_(o)),function(){const l=R.content.cloneNode(!0),r=l.firstChild,u=r.nextSibling,i=u.nextSibling;return L(l,P({x:n,y:e-t/2,s:t,seconds:o}),null,r),L(l,P({x:n-t,y:e+t/2,s:t,seconds:o}),null,u),L(l,P({x:n+t,y:e+t/2,s:t,seconds:o}),null,i),l}()),X=({x:n,y:e,s:t,text:o})=>{const[l,r]=M(!1),u=()=>r(!0),i=()=>r(!1);return function(){const r=$.content.firstChild.cloneNode(!0);return r.onmouseleave=i,r.onmouseenter=u,T(()=>Object.assign(r.style,{width:t+"px",height:t+"px",left:n+"px",top:e+"px",borderRadius:t/2+"px",lineHeight:t+"px",background:l()?"#ff0":"#61dafb"})),L(r,()=>l()?"**"+o()+"**":o()),r}()};j(()=>document.body.appendChild(G()))}();
