!function(){"use strict";function e(e,n){const l=new t(e);let s;if(n){let t=-1;s=s=>{if(!n(e,s)){const n=o.time;if(n===t)throw new Error(`Conflicting value update: ${s} is not the same as ${e}`);t=n,e=s,l.next(s)}}}else s=l.next.bind(l);return[l.current.bind(l),s]}function n(e,n){p(e,n,!1)}class t{constructor(e){this.value=e,this.pending=a,this.log=null}current(){return null!==u&&(null===this.log&&(this.log={node1:null,node1slot:0,nodes:null,nodeslots:null}),m(this.log)),this.value}next(e){if(null!==s)if(this.pending!==a){if(e!==this.pending)throw new Error("conflicting changes: "+e+" !== "+this.pending)}else this.pending=e,o.changes.add(this);else null!==this.log?(this.pending=e,o.changes.add(this),function(){let e=r;o.updates.reset();try{v(o)}finally{s=u=null,r=e}}()):this.value=e;return e}}class l{constructor(){this.items=[],this.count=0}reset(){this.count=0}add(e){this.items[this.count++]=e}run(e){let n=this.items;for(let t=0;t<this.count;t++)e(n[t]),n[t]=null;this.count=0}}let o={time:0,changes:new l,updates:new l,disposes:new l},s=null,u=null,r=null,i=null,c=null,a={},d={fn:null,age:-1,state:0,source1:null,source1slot:0,sources:null,sourceslots:null,dependents:null,dependentslot:0,dependentcount:0,owner:null,owned:null,log:null,value:void 0,comparator:void 0,context:void 0,cleanups:null};var f={node:null,value:void 0};function p(e,n,t,l){const i=h(),c=u,a=null===s;i.owner=r,i.comparator=l,r=i,u=t?null:i,n=a?function(e,n){s=o,o.changes.reset(),o.updates.reset();try{return e(n)}finally{r=u=s=null}}(e,n):e(n),r=i.owner,u=c;var d=g(i,e,n,!1);return a&&function(e,n){if(0!==o.changes.count||0!==o.updates.count||0!==o.disposes.count)try{v(o)}finally{s=null,r=e,u=n}}(r,c),f.node=d?null:i,f.value=n,f}function h(){let e=c;return null===e?e={fn:null,age:-1,state:0,source1:null,source1slot:0,sources:null,sourceslots:null,dependents:null,dependentslot:0,dependentcount:0,owner:null,owned:null,log:null,value:void 0,comparator:void 0,context:void 0,cleanups:null}:c=null,e}function g(e,n,t,l){let s,u=l||null===r||r===d?null:r,i=!e.noRecycle&&null===e.source1&&(null===e.owned&&null===e.cleanups||null!==u);if(i){if(c=e,e.owner=null,I(e,31),null!==u){if(null!==e.owned){if(null===u.owned)u.owned=e.owned;else for(s=0;s<e.owned.length;s++)u.owned.push(e.owned[s]);e.owned=null}if(null!==e.cleanups){if(null===u.cleanups)u.cleanups=e.cleanups;else for(s=0;s<e.cleanups.length;s++)u.cleanups.push(e.cleanups[s]);e.cleanups=null}}}else e.fn=n,e.value=t,e.age=o.time,null!==u&&(null===u.owned?u.owned=[e]:u.owned.push(e));return i}function m(e){let n,t=u,l=null===t.source1?-1:null===t.sources?0:t.sources.length;if(null===e.node1)e.node1=t,e.node1slot=l,n=-1;else if(null===e.nodes){if(e.node1===t)return;e.nodes=[t],e.nodeslots=[l],n=0}else{if(n=e.nodes.length,e.nodes[n-1]===t)return;e.nodes.push(t),e.nodeslots.push(l)}null===t.source1?(t.source1=e,t.source1slot=n):null===t.sources?(t.sources=[e],t.sourceslots=[n]):(t.sources.push(e),t.sourceslots.push(n))}function w(e){0!=(6&e.state)&&function(e){if(0!=(4&e.state)){const n=e.owner;0!=(7&n.state)&&w(n),e.state&=-5}if(0!=(2&e.state)){const n=e.dependents;for(let t=e.dependentslot,l=e.dependentcount;t<l;t++){const e=n[t];null!=e&&w(e),n[t]=null}e.state&=-3}}(e),0!=(1&e.state)&&x(e),I(e,31)}function v(e){let n=s,t=0;for(s=e,e.disposes.reset();0!==e.changes.count||0!==e.updates.count||0!==e.disposes.count;)if(e.time++,e.changes.run(y),e.updates.run(x),e.disposes.run(H),t++>1e5)throw new Error("Runaway clock detected");s=n}function y(e){e.value=e.pending,e.pending=a,e.log&&B(e.log,b)}function x(e){const n=e.state;if(0==(16&n))if(0!=(2&n))e.dependents[e.dependentslot++]=null,e.dependentslot===e.dependentcount&&I(e,14);else if(0!=(1&n))if(0!=(4&n))w(e);else if(e.comparator){const n=C(e);(0,e.comparator)(n,e.value)||N(e,!1,!0)}else C(e)}function C(e){const n=e.value,t=r,l=u;return r=u=e,e.state=8,E(e,!1),e.value=e.fn(e.value),I(e,31),r=t,u=l,n}function b(e){const n=o.time;e.age<n&&(e.state|=1,e.age=n,T(e,!!e.comparator))}function A(e){const n=o.time;if(e.age<n){e.state|=2,(e.dependents||(e.dependents=[]))[e.dependentcount++]=i,T(e,!0)}}function T(e,n){if(o.updates.add(e),e.comparator){const n=i;i=e,N(e,!0,!1),i=n}else N(e,n,!1)}function k(e){if(0!=(2&e.state)){e.state=1;const n=o.time;e.age<n&&(e.age=n,e.comparator||N(e,!1,!0))}}function N(e,n,t){const l=e.owned;if(null!==l){!function e(n,t,l){for(let o=0,s=n.length;o<s;o++){const s=n[o];if(null!==s){t?0==(16&s.state)&&(s.state|=4):(s.age=l,s.state=16);const n=s.owned;null!==n&&e(n,t,l)}}}(l,n&&!t,o.time)}const s=e.log;null!==s&&B(s,t?k:n?A:b)}function B(e,n){const t=e.node1,l=e.nodes;if(null!==t&&n(t),null!==l)for(let e=0,t=l.length;e<t;e++)n(l[e])}function E(e,n){let t,l,o=e.source1,s=e.sources,u=e.sourceslots,r=e.cleanups,i=e.owned;if(null!==r){for(t=0;t<r.length;t++)r[t](n);e.cleanups=null}if(null!==i){for(t=0;t<i.length;t++)H(i[t]);e.owned=null}if(null!==o&&(M(o,e.source1slot),e.source1=null),null!==s)for(t=0,l=s.length;t<l;t++)M(s.pop(),u.pop())}function M(e,n){let t,l,o=e.nodes,s=e.nodeslots;-1===n?e.node1=null:(t=o.pop(),l=s.pop(),n!==o.length&&(o[n]=t,s[n]=l,-1===l?t.source1slot=n:t.sourceslots[l]=n))}function I(e,n){e.state&=~n,e.dependentslot=0,e.dependentcount=0}function H(e){e.fn=null,e.log=null,e.dependents=null,E(e,!0),I(e,31)}function S(e){const n=document.createElement("template");if(n.innerHTML=e,n.innerHTML!==e)throw new Error(`Template html does not match input:\n${n.innerHTML}\n${e}`);return n}function $(e,t,l,o){if(void 0===l||o||(o=[]),"function"==typeof t)n((n=o)=>L(e,t(),n,l));else{if(!Array.isArray(t)||!function e(n){for(let t=0,l=n.length;t<l;t++){const l=n[t];if(Array.isArray(l)&&e(l)||"function"==typeof l)return!0}return!1}(t))return L(e,t,o,l);n((n=o)=>L(e,t,n,l))}}function q(e,n,t){for(let l=0,o=n.length;l<o;l++)e.insertBefore(n[l],t)}function F(e,n,t,l){if(void 0===t)return e.textContent="";const o=l||document.createTextNode("");if(n.length){o!==n[0]&&e.replaceChild(o,n[0]);for(let t=n.length-1;t>0;t--)e.removeChild(n[t])}else e.insertBefore(o,t);return[o]}function L(e,t,l,o){if(t===l)return l;const s=typeof t,u=void 0!==o;if(e=u&&l[0]&&l[0].parentNode||e,"string"===s||"number"===s)if("number"===s&&(t=t.toString()),u){let n=l[0];n&&3===n.nodeType?n.data=t:n=document.createTextNode(t),l=F(e,l,o,n)}else l=""!==l&&"string"==typeof l?e.firstChild.data=t:e.textContent=t;else if(null==t||"boolean"===s)l=F(e,l,o);else if("function"===s)n(()=>l=L(e,t(),l,o));else if(Array.isArray(t)){const n=function e(n,t){for(let l=0,o=t.length;l<o;l++){let o,s=t[l];if(s instanceof Node)n.push(s);else if(null==s||!0===s||!1===s);else if(Array.isArray(s))e(n,s);else if("string"==(o=typeof s))n.push(document.createTextNode(s));else if("function"===o){const t=s();e(n,Array.isArray(t)?t:[t])}else n.push(document.createTextNode(s.toString()))}return n}([],t);if(0===n.length){if(l=F(e,l,o),u)return l}else Array.isArray(l)?0===l.length?q(e,n,o):j(e,l,n):null==l||""===l?q(e,n):j(e,u&&l||[e.firstChild],n);l=n}else if(t instanceof Node){if(Array.isArray(l)){if(u)return l=F(e,l,o,t);F(e,l,null,t)}else null==l||""===l?e.appendChild(t):e.replaceChild(t,e.firstChild);l=t}return l}var R=-1;function j(e,n,t){var l,o=t.length,s=0,u=n.length-1,r=0,i=o-1,c=n[s],a=t[r],d=n[u],f=t[i],p=d.nextSibling,h=!0;e:for(;h;){for(h=!1;a===c;){if(s++,++r>i||s>u)break e;a=t[r],c=n[s]}for(;f===d;){if(p=d,u--,r>--i||s>u)break e;f=t[i],d=n[u]}for(;a===d;){if(h=!0,e.insertBefore(d,c),u--,++r>i||s>u)break e;a=t[r],d=n[u]}for(;f===c;){if(h=!0,null===p?e.appendChild(c):e.insertBefore(c,p),p=c,s++,r>--i||s>u)break e;f=t[i],c=n[s]}}if(r>i){for(;s<=u;)e.removeChild(n[u]),u--;return}if(s>u){for(;r<=i;)e.insertBefore(t[r],p),r++;return}const g=new Array(i-r+1),m=new Map;for(let e=r;e<=i;e++)g[e]=R,m.set(t[e],e);let w=r+t.length-1-i,v=[];for(let e=s;e<=u;e++)m.has(n[e])?(g[m.get(n[e])]=e,w++):v.push(e);if(0!==w){var y,x=function(e,n){let t=[],l=[],o=-1,s=new Array(e.length);for(let u=n,r=e.length;u<r;u++){let n=e[u];if(n<0)continue;let r=D(t,n);-1!==r&&(s[u]=l[r]),r===o?(t[++o]=n,l[o]=u):n<t[r+1]&&(t[r+1]=n,l[r+1]=u)}for(let e=l[o];o>=0;e=s[e],o--)t[o]=e;return t}(g,r),C=[],b=n[s],A=x.length-1;for(let e=s;e<=u;e++)C[e]=b,b=b.nextSibling;for(let n=0;n<v.length;n++)e.removeChild(C[v[n]]);for(let n=i;n>=r;n--)x[A]===n?(p=C[g[x[A]]],A--):(y=g[n]===R?t[n]:C[g[n]],e.insertBefore(y,p),p=y)}else{if(c!==e.firstChild||d!==e.lastChild){for(l=s;l<=u;l++)e.removeChild(n[l]);for(;r<=i;)e.insertBefore(t[r],p),r++;return}for(e.textContent="";r<=i;)e.appendChild(t[r]),r++}}function D(e,n){var t=-1,l=e.length;if(l>0&&e[l-1]<=n)return l-1;for(;l-t>1;){var o=Math.floor((t+l)/2);e[o]>n?l=o:t=o}return t}const O=S('<div class="container"></div>'),X=S('<div class="dot"></div>'),Y=({x:t,y:l,s:o,seconds:s})=>o<=25?Z({x:t-12.5,y:l-12.5,s:25,text:s}):(125===(o/=2)&&(s=(t=>{let l,o;const[s,u]=e(t()),r={current:null},i=()=>{cancelIdleCallback(l),clearTimeout(o),o=null,u(r.current)};return n(()=>{r.current=t(),cancelIdleCallback(l),o||(o=setTimeout(i,100*~~(4*Math.random()+1))),l=requestIdleCallback(i)}),s})(s)),[Y({x:t,y:l-o/2,s:o,seconds:s}),Y({x:t-o,y:l+o/2,s:o,seconds:s}),Y({x:t+o,y:l+o/2,s:o,seconds:s})]),Z=({x:t,y:l,s:o,text:s})=>{const[u,r]=e(!1),i=()=>r(!0),c=()=>r(!1);return function(){const e=X.content.firstChild.cloneNode(!0);return e.onmouseleave=c,e.onmouseenter=i,n(()=>Object.assign(e.style,{width:o+"px",height:o+"px",left:t+"px",top:l+"px",borderRadius:o/2+"px",lineHeight:o+"px",background:u()?"#ff0":"#61dafb"})),$(e,()=>u()?"**"+s()+"**":s()),e}()};!function(e,n){let t;(function(e,n){let t,l=0===e.length?null:function(){null===i||(null!==s?o.disposes.add(i):H(i))},i=null===l?d:h(),c=u,a=n||r;i!==a&&(i.owner=a),r=i;try{u=null,t=null===l?e():e(l)}finally{u=c,r=i.owner}null!==l&&g(i,null,void 0,!0)&&(i=null)})(l=>{t=l,$(n,e())})}(()=>{const[t,l]=e(0),[s,i]=e(0),c=function(e,n,t){var{node:l,value:s}=p(e,n,!1,t);return null===l?()=>s:()=>{if(null!==u){const e=l.state;if(0!=(7&e)&&w(l),l.age===o.time&&8===e)throw new Error("Circular dependency.");0==(16&e)&&(null===l.log&&(l.log={node1:null,node1slot:0,nodes:null,nodeslots:null}),m(l.log))}return l.value}}(()=>{const e=t()/1e3%10;return 1+(e>5?10-e:e)/10}),a=Date.now(),d=setInterval(()=>i(s()%10+1),1e3);let f;const h=()=>{l(Date.now()-a),f=requestAnimationFrame(h)};return f=requestAnimationFrame(h),function(e){null===r?console.warn("cleanups created without a root or parent will never be run"):null===r.cleanups?r.cleanups=[e]:r.cleanups.push(e)}(()=>{clearInterval(d),cancelAnimationFrame(f)}),function(){const e=O.content.firstChild.cloneNode(!0);return n(()=>Object.assign(e.style,{transform:"scaleX("+c()/2.1+") scaleY(0.7) translateZ(0.1px)"})),$(e,Y({x:0,y:0,s:1e3,seconds:s})),e}()},document.body)}();
